# Passkey schemas

Passkey:
  type: object
  required: [type, id]
  properties:
    type:
      type: string
      enum: [passkeys]
    id:
      type: string
      format: uuid
    attributes:
      type: object
      properties:
        name:
          type: string
          description: User-friendly name for the passkey (**Write Permission:** `users.write` or self-access)
        credentialId:
          type: string
          description: Base64URL encoded credential ID (**Write Permission:** Internal system only)
        publicKey:
          type: string
          readOnly: true
          description: Base64URL encoded public key (**Write Permission:** Internal system only)
        counter:
          type: integer
          description: Signature counter for replay attack prevention (**Write Permission:** Internal system only)
        backedUp:
          type: boolean
          description: Whether the passkey is backed up (e.g., synced via iCloud/Google) (**Write Permission:** Internal system only)
        createdAt:
          type: string
          format: date-time
          description: Creation timestamp (**Write Permission:** Internal system only)
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp (**Write Permission:** Internal system only)
    relationships:
      type: object
      properties:
        user:
          type: object
          description: The user who owns this passkey
          properties:
            data:
              type: object
              properties:
                type:
                  type: string
                  enum: [users]
                id:
                  type: string
                  format: uuid
            links:
              type: object
              properties:
                self:
                  type: string
                  format: uri
                related:
                  type: string
                  format: uri
    links:
      type: object
      properties:
        self:
          type: string
          format: uri

PasskeyCollection:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: '#/Passkey'
    meta:
      $ref: '../components/schemas.yaml#/PaginationMeta'
    links:
      $ref: '../components/schemas.yaml#/PaginationLinks'

PasskeyDocument:
  type: object
  properties:
    data:
      $ref: '#/Passkey'